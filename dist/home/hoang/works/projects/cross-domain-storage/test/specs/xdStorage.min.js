describe("xdStorage test",function(){beforeEach(function(){xdStorage.local.clear();xdStorage.session.clear()});it("should set value to local storage",function(b){xdStorage.local.setItem("itemKey","value",function(a){expect(a.success).toBe(!0);b()})});it("should get value to local storage",function(b){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe(null);xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe("value");
b()})})})});it("should clear all values after clear is called",function(b){xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.setItem("itemKey2","value2",function(){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe("value");xdStorage.local.getItem("itemKey2",function(a){expect(a.value).toBe("value2");xdStorage.local.clear(function(){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe(null);xdStorage.local.getItem("itemKey2",function(a){expect(a.value).toBe(null);
b()})})})})})})})});it("should remove value from local storage",function(b){xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe("value");xdStorage.local.removeItem("itemKey",function(){xdStorage.local.getItem("itemKey",function(a){expect(a.value).toBe(null);b()})})})})});it("should return key name when calling key() with right key index ",function(b){xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.key(0,function(a){expect(a.key).toBe("itemKey");
b()})})});it("should return the size of local storage",function(b){var a={itemKey:"value"};xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.getSize(function(c){expect(c.size).toBe(JSON.stringify(a).length);b()})})});it("should return the number of keys of local storage",function(b){xdStorage.local.setItem("itemKey","value",function(){xdStorage.local.setItem("itemKey2","value2",function(){xdStorage.local.getLength(function(a){expect(a.length).toBe(2);xdStorage.local.removeItem("itemKey",
function(){xdStorage.local.getLength(function(a){expect(a.length).toBe(1);b()})})})})})});it("should set value to session storage",function(b){xdStorage.session.setItem("itemKey","value",function(a){expect(a.success).toBe(!0);b()})});it("should get value to session storage",function(b){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe(null);xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe("value");b()})})})});
it("should clear all values after clear is called",function(b){xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.setItem("itemKey2","value2",function(){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe("value");xdStorage.session.getItem("itemKey2",function(a){expect(a.value).toBe("value2");xdStorage.session.clear(function(){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe(null);xdStorage.session.getItem("itemKey2",function(a){expect(a.value).toBe(null);
b()})})})})})})})});it("should remove value from session storage",function(b){xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe("value");xdStorage.session.removeItem("itemKey",function(){xdStorage.session.getItem("itemKey",function(a){expect(a.value).toBe(null);b()})})})})});it("should return key name when calling key() with right key index ",function(b){xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.key(0,
function(a){expect(a.key).toBe("itemKey");b()})})});it("should return the size of session storage",function(b){var a={itemKey:"value"};xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.getSize(function(c){expect(c.size).toBe(JSON.stringify(a).length);b()})})});it("should return the number of keys of session storage",function(b){xdStorage.session.setItem("itemKey","value",function(){xdStorage.session.setItem("itemKey2","value2",function(){xdStorage.session.getLength(function(a){expect(a.length).toBe(2);
xdStorage.session.removeItem("itemKey",function(){xdStorage.session.getLength(function(a){expect(a.length).toBe(1);b()})})})})})})});
